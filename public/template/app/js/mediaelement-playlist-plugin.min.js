"use strict";!function(f){f.extend(mejs.MepDefaults,{loopText:"Repeat On/Off",shuffleText:"Shuffle On/Off",nextText:"Next Track",prevText:"Previous Track",playlistText:"Show/Hide Playlist",fullscreenText:"Show/Hide Fullscreen"}),f.extend(MediaElementPlayer.prototype,{buildloop:function(e,t,s,i){var l=f('<div class="mejs-button mejs-loop-button '+(e.options.loopplaylist?"mejs-loop-on":"mejs-loop-off")+'"><button type="button" aria-controls="'+e.id+'" title="'+e.options.loopText+'"></button></div>').appendTo(t).click(function(){e.options.loopplaylist=!e.options.loopplaylist,f(i).trigger("mep-looptoggle",[e.options.loopplaylist]),e.options.loopplaylist?l.removeClass("mejs-loop-off").addClass("mejs-loop-on"):l.removeClass("mejs-loop-on").addClass("mejs-loop-off")});this.loopToggle=this.controls.find(".mejs-loop-button")},loopToggleClick:function(){this.loopToggle.trigger("click")},buildshuffle:function(e,t,s,i){var l=f('<div class="mejs-button mejs-playlist-plugin-button mejs-shuffle-button '+(e.options.shuffle?"mejs-shuffle-on":"mejs-shuffle-off")+'"><button type="button" aria-controls="'+e.id+'" title="'+e.options.shuffleText+'"></button></div>').appendTo(t).click(function(){e.options.shuffle=!e.options.shuffle,f(i).trigger("mep-shuffletoggle",[e.options.shuffle]),e.options.shuffle?l.removeClass("mejs-shuffle-off").addClass("mejs-shuffle-on"):l.removeClass("mejs-shuffle-on").addClass("mejs-shuffle-off")});this.shuffleToggle=this.controls.find(".mejs-shuffle-button")},shuffleToggleClick:function(){this.shuffleToggle.trigger("click")},buildprevtrack:function(e,t,s,i){f('<div class="mejs-button mejs-playlist-plugin-button mejs-prevtrack-button mejs-prevtrack"><button type="button" aria-controls="'+e.id+'" title="'+e.options.prevText+'"></button></div>').appendTo(t).click(function(){f(i).trigger("mep-playprevtrack"),e.playPrevTrack()}),this.prevTrack=this.controls.find(".mejs-prevtrack-button")},prevTrackClick:function(){this.prevTrack.trigger("click")},buildnexttrack:function(e,t,s,i){f('<div class="mejs-button mejs-playlist-plugin-button mejs-nexttrack-button mejs-nexttrack"><button type="button" aria-controls="'+e.id+'" title="'+e.options.nextText+'"></button></div>').appendTo(t).click(function(){f(i).trigger("mep-playnexttrack"),e.playNextTrack()}),this.nextTrack=this.controls.find(".mejs-nexttrack-button")},nextTrackClick:function(){this.nextTrack.trigger("click")},buildplaylist:function(e,t,s,i){var l=this;f('<div class="mejs-button mejs-playlist-plugin-button mejs-playlist-button '+(e.options.playlist?"mejs-hide-playlist":"mejs-show-playlist")+'"><button type="button" aria-controls="'+e.id+'" title="'+e.options.playlistText+'"></button></div>').appendTo(t).click(function(){l.togglePlaylistDisplay(e,s,i)}),l.playlistToggle=l.controls.find(".mejs-playlist-button")},playlistToggleClick:function(){this.playlistToggle.trigger("click")},buildaudiofullscreen:function(e,t,s,i){if(!e.isVideo){var l=this;l.fullscreenBtn=f('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+l.id+'" title="'+l.options.fullscreenText+'" aria-label="'+l.options.fullscreenText+'"></button></div>'),l.fullscreenBtn.appendTo(t);var a=!mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.hasSemiNativeFullScreen&&!l.media.webkitEnterFullscreen;if("native"===l.media.pluginType&&!a||!l.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)l.fullscreenBtn.click(function(){mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||e.isFullScreen?e.exitFullScreen():e.enterFullScreen()});else{var n="manual-fullscreen";l.fullscreenBtn.click(function(){e.container.hasClass(n)?(f(document.body).removeClass(n),e.container.removeClass(n),e.resetSize(),l.isFullScreen=!1):(l.normalHeight=l.container.height(),l.normalWidth=l.container.width(),f(document.body).addClass(n),e.container.addClass(n),l.container.css({width:"100%",height:"100%"}),e.layers.children().css("width","100%").css("height","100%"),l.containerSizeTimeout=setTimeout(function(){l.container.css({width:"100%",height:"100%"}),e.layers.children().css("width","100%").css("height","100%"),l.setControlsSize()},500),e.setControlsSize(),l.isFullScreen=!0)})}}},buildplaylistfeature:function(t,e,s,i){var l=this,a=f('<div class="mejs-playlist mejs-layer"><ul class="mejs"></ul></div>').appendTo(s);f(i).data("showplaylist")&&(t.options.playlist=!0,f("#"+t.id).find(".mejs-overlay-play").hide()),t.options.playlist||a.hide();var n,o=[],r="";for(var d in f("#"+t.id).find(".mejs-mediaelement source").each(function(){if(f(this).parent()[0]&&f(this).parent()[0].canPlayType?n=f(this).parent()[0].canPlayType(this.type):f(this).parent()[0]&&f(this).parent()[0].player&&f(this).parent()[0].player.media&&f(this).parent()[0].player.media.canPlayType?n=f(this).parent()[0].player.media.canPlayType(this.type):console.error("Cannot determine if we can play this media (no canPlayType()) on"+f(this).toString()),r||"maybe"!==n&&"probably"!==n||(r=this.type),r&&this.type===r&&""!==f.trim(this.src)){var e={};e.source=f.trim(this.src),""!==f.trim(this.title)?e.name=f.trim(this.title):e.name=(t=e.source,0<(s=t.split("/")).length?decodeURIComponent(s[s.length-1]):""),e.poster=f(this).data("poster"),o.push(e)}var t,s}),o){var p=f('<li data-url="'+o[d].source+'" data-poster="'+o[d].poster+'" title="'+o[d].name+'"><span>'+o[d].name+"</span></li>");s.find(".mejs-playlist > ul").append(p),f(t.media).hasClass("mep-slider")&&p.css({"background-image":'url("'+p.data("poster")+'")'})}t.videoSliderTracks=o.length,s.find("li:first").addClass("current played"),t.isVideo||t.changePoster(s.find("li:first").data("poster"));var c=f('<a class="mep-prev">'),u=f('<a class="mep-next">');t.videoSliderIndex=0,s.find(".mejs-playlist").append(c),s.find(".mejs-playlist").append(u),f("#"+t.id+".mejs-container.mep-slider").find(".mejs-playlist ul li").css({transform:"translate3d(0, -20px, 0) scale3d(0.75, 0.75, 1)"}),c.click(function(){var e=!0;t.videoSliderIndex-=1,t.videoSliderIndex<0&&(t.videoSliderIndex=0,e=!1),t.videoSliderIndex===t.videoSliderTracks-1?u.fadeOut():u.fadeIn(),0===t.videoSliderIndex?c.fadeOut():c.fadeIn(),!0===e&&(t.sliderWidth=f("#"+t.id).width(),f("#"+t.id+".mejs-container.mep-slider").find(".mejs-playlist ul li").css({transform:"translate3d(-"+Math.ceil(t.sliderWidth*t.videoSliderIndex)+"px, -20px, 0) scale3d(0.75, 0.75, 1)"}))}).hide(),u.click(function(){var e=!0;t.videoSliderIndex+=1,t.videoSliderIndex>t.videoSliderTracks-1&&(t.videoSliderIndex=t.videoSliderTracks-1,e=!1),t.videoSliderIndex===t.videoSliderTracks-1?u.fadeOut():u.fadeIn(),0===t.videoSliderIndex?c.fadeOut():c.fadeIn(),!0===e&&(t.sliderWidth=f("#"+t.id).width(),f("#"+t.id+".mejs-container.mep-slider").find(".mejs-playlist ul li").css({transform:"translate3d(-"+Math.ceil(t.sliderWidth*t.videoSliderIndex)+"px, -20px, 0) scale3d(0.75, 0.75, 1)"}))}),s.find(".mejs-playlist > ul li").click(function(){f(this).hasClass("current")?t.media.paused?t.play():t.pause():(f(this).addClass("played"),t.playTrack(f(this)))}),i.addEventListener("ended",function(){t.playNextTrack()},!1),i.addEventListener("playing",function(){t.container.removeClass("mep-paused").addClass("mep-playing"),t.isVideo&&l.togglePlaylistDisplay(t,s,i,"hide")},!1),i.addEventListener("play",function(){t.isVideo||s.find(".mejs-poster").show()},!1),i.addEventListener("pause",function(){t.container.removeClass("mep-playing").addClass("mep-paused")},!1)},playNextTrack:function(){var e,t=this,s=t.layers.find(".mejs-playlist > ul > li"),i=s.filter(".current"),l=s.not(".played");l.length<1&&(i.removeClass("played").siblings().removeClass("played"),l=s.not(".current"));var a=!1;if(t.options.shuffle){var n=Math.floor(Math.random()*l.length);e=l.eq(n)}else(e=i.next()).length<1&&(t.options.loopplaylist||t.options.autoRewind)&&(e=i.siblings().first(),a=!0);t.options.loop=!1,1==e.length&&(e.addClass("played"),t.playTrack(e),t.options.loop=t.options.loopplaylist||t.options.continuous&&!a)},playPrevTrack:function(){var e,t=this.layers.find(".mejs-playlist > ul > li"),s=t.filter(".current"),i=t.filter(".played").not(".current");if(i.length<1&&(s.removeClass("played"),i=t.not(".current")),this.options.shuffle){var l=Math.floor(Math.random()*i.length);e=i.eq(l)}else(e=s.prev()).length<1&&this.options.loopplaylist&&(e=s.siblings().last());1==e.length&&(s.removeClass("played"),this.playTrack(e))},changePoster:function(e){this.layers.find(".mejs-playlist").css("background-image",'url("'+e+'")'),this.setPoster(e),this.layers.find(".mejs-poster").show()},playTrack:function(e){var t=this;t.pause(),t.setSrc(e.data("url")),t.load(),t.changePoster(e.data("poster")),t.play(),e.addClass("current").siblings().removeClass("current")},playTrackURL:function(e){var t=this.layers.find(".mejs-playlist > ul > li").filter('[data-url="'+e+'"]');this.playTrack(t)},togglePlaylistDisplay:function(e,t,s,i){e.options.playlist=i?"show"===i:!e.options.playlist,f(s).trigger("mep-playlisttoggle",[e.options.playlist]),e.options.playlist?(t.children(".mejs-playlist").fadeIn(),this.playlistToggle.removeClass("mejs-show-playlist").addClass("mejs-hide-playlist")):(t.children(".mejs-playlist").fadeOut(),this.playlistToggle.removeClass("mejs-hide-playlist").addClass("mejs-show-playlist"))},oldSetPlayerSize:MediaElementPlayer.prototype.setPlayerSize,setPlayerSize:function(e,t){var s=this.isVideo;this.isVideo=!0,this.oldSetPlayerSize(e,t),this.isVideo=s}})}(mejs.$);